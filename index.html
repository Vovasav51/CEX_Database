<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>–ü–µ—Ä–µ–≥–ª—è–¥–∞—á –±—ñ—Ä–∂–æ–≤–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π ¬∑ —É–∫—Ä</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { font-family: Arial, sans-serif; margin: 0; background: #0b0e14; color: #e8eef7; }
  .container { max-width: 1200px; margin: auto; padding: 20px; }
  h1 { font-size: 22px; margin-bottom: 10px; }
  button, select, input { padding: 8px; border-radius: 5px; border: 1px solid #1e293b; background: #1f2937; color: #fff; }
  button:hover { background: #374151; cursor: pointer; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { padding: 8px; border: 1px solid #1e293b; }
  th { background: #111624; position: sticky; top: 0; }
  .in { color: #86efac; }
  .out { color: #fca5a5; }
  .row { display:flex; gap:8px; flex-wrap:wrap; margin:10px 0; }
</style>
</head>
<body>
<div class="container">
  <h1>–ü–µ—Ä–µ–≥–ª—è–¥–∞—á –±—ñ—Ä–∂–æ–≤–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π ¬∑ —É–∫—Ä</h1>

  <div class="row">
    <input type="file" id="fileInput" accept=".csv,.xlsx,.xls" multiple>
    <input type="text" id="search" placeholder="–ü–æ—à—É–∫...">
    <select id="dir">
      <option value="all">–£—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó</option>
      <option value="in">–í—Ö—ñ–¥–Ω—ñ</option>
      <option value="out">–í–∏—Ö—ñ–¥–Ω—ñ</option>
    </select>
    <button id="btnExport">–ï–∫—Å–ø–æ—Ä—Ç CSV</button>
    <button id="btnRefresh">–û–Ω–æ–≤–∏—Ç–∏ –∑ –±–∞–∑–∏</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>–ß–∞—Å (UTC)</th>
        <th>–ë—ñ—Ä–∂–∞</th>
        <th>–ú–µ—Ä–µ–∂–∞</th>
        <th>–ê–∫—Ç–∏–≤</th>
        <th>–°—É–º–∞</th>
        <th>–ù–∞–ø—Ä—è–º</th>
        <th>From</th>
        <th>To</th>
        <th>Tx Hash</th>
        <th>–§–∞–π–ª</th>
      </tr>
    </thead>
    <tbody id="tbody">
      <tr><td colspan="10" style="text-align:center;">–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö</td></tr>
    </tbody>
  </table>
</div>

<!-- –ü–∞—Ä—Å–µ—Ä–∏ CSV/Excel -->
<script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

<!-- Firebase (ESM) -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import {
    getFirestore, collection, getDocs, doc, writeBatch, serverTimestamp, setDoc
  } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

  // üîπ –¢–í–û–Ø –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Firebase (—ñ–∑ –∫–æ–Ω—Å–æ–ª—ñ Firebase)
  const firebaseConfig = {
    apiKey: "AIzaSyCeE3Sm3omKS3CvZEAUrDWNy75CQMSYFYs",
    authDomain: "cex-database.firebaseapp.com",
    projectId: "cex-database",
    storageBucket: "cex-database.firebasestorage.app",
    messagingSenderId: "14057
